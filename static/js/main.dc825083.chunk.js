(this.webpackJsonpdecade_trends=this.webpackJsonpdecade_trends||[]).push([[0],{120:function(e,t,a){e.exports=a(200)},126:function(e,t,a){},200:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(8),s=a.n(c),o=(a(125),a(126),a(74)),l=a(32),u=a(17),i=a(239),m=a(240),p=a(241),d=a(111),f=a(20),b=a.n(f),h=["facebook","amazon","apple","netflix","google"],j="/hn-past-decade",E={D:"Day",W:"Week",M:"Month",Q:"Quarter",Y:"Year"},O={D:"Daily",W:"Weekly",M:"Monthly",Q:"Quarterly",Y:"Yearly"},v=a(232),g=a(233),w=a(235),y=a(234),x=a(230),k=Object(x.a)((function(e){return{root:{display:"flex",flexDirection:"column",height:"100%"},h1:{fontSize:"2rem"},panel:{padding:e.spacing(3)},main:{marginTop:e.spacing(3),height:"100%"},input:{width:"100%",minWidth:"120px"},plotContainer:{width:"100%",height:"100%",minHeight:"".concat(400,"px")},toolbar:{flexDirection:"row"}}})),S=function(){var e=k();return r.a.createElement(v.a,{position:"relative"},r.a.createElement(g.a,{className:e.toolbar},r.a.createElement(y.a,{className:e.h1,variant:"h1"},"HN Trends of the Past Decade"),r.a.createElement(w.a,{href:"https://github.com/nvbn/hn-past-decade"},"github")))},C=a(106),N=a.n(C),R=a(202),D=function(e){var t=e.tsKeywords,a=e.dates,c=e.resolution,s=k(),o=Object(n.useState)(0),l=Object(u.a)(o,2),i=l[0],m=l[1],p=Object(n.useState)(0),d=Object(u.a)(p,2),f=d[0],b=d[1],h=Object(n.useRef)(null),j=Object(n.useCallback)((function(){if(null!==h.current){var e=h.current.getBoundingClientRect(),t=document.documentElement.clientHeight-e.top-32;t<400&&(t=400),b(t),m(e.width)}}),[h]);Object(n.useEffect)(j,[h]),Object(n.useLayoutEffect)((function(){return window.addEventListener("resize",j),function(){return window.removeEventListener("resize",j)}}),[j]);var E=Object.keys(t).length?"".concat(O[c]," amount of submissions with ").concat(Object.keys(t).join(", ")):"No topics selected";return r.a.createElement(R.a,null,r.a.createElement("div",{className:s.plotContainer,ref:h},r.a.createElement(N.a,{data:Object.keys(t).map((function(e){return{type:"scatter",mode:"lines",name:e,x:a,y:t[e]}})),layout:{width:i,height:f,title:E}})))},M=a(238),P=a(237),W=a(236),I=a(242),L=a(107),Q=function(e){return e.sort().join(",")},z=function(e){var t=e.initialResolution,a=e.initialSelected,c=e.onResolutionChange,s=e.onSelectedChange,o=e.rankedKeywords,l=e.presets,i=k(),m=Object(n.useState)(t),p=Object(u.a)(m,2),d=p[0],f=p[1],b=Object(n.useCallback)((function(e){var t=e.target.value;f(t),c(t)}),[c,f]),h=Object(n.useMemo)((function(){return new Map(Object.keys(l).map((function(e){return[Q(l[e]),e]})))}),[l]),j=Object(n.useState)(a),O=Object(u.a)(j,2),v=O[0],g=O[1],w=Object(n.useState)(h.get(Q(v))),x=Object(u.a)(w,2),S=x[0],C=x[1],N=Object(n.useCallback)((function(e){g(e),s(e),C(h.get(Q(e)))}),[s,g,h]),D=Object(n.useCallback)((function(e){var t=e.target.value;g(l[t]),s(l[t]),C(t)}),[s,g,l]);return r.a.createElement(R.a,{className:i.panel},r.a.createElement("div",null,r.a.createElement(W.a,null,r.a.createElement(P.a,{id:"resolution-label"},"Resolution"),r.a.createElement(I.a,{labelId:"resolution-label",value:d,onChange:b,className:i.input},Object.keys(E).map((function(e){return r.a.createElement(M.a,{value:e,key:"item-".concat(e)},E[e])}))))),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(W.a,{className:i.input},r.a.createElement(L.MultipleSelect,{label:"Topics",options:o.map((function(e){var t=Object(u.a)(e,2),a=t[0];t[1];return a})),values:v,onChange:N}))),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(W.a,null,r.a.createElement(P.a,{id:"preset-label"},"Presets"),r.a.createElement(I.a,{labelId:"preset-label",onChange:D,className:i.input,value:S||"",displayEmpty:!0},Object.keys(l).map((function(e){return r.a.createElement(M.a,{value:e,key:"preset-".concat(e)},e)}))))),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(y.a,{color:"textSecondary",variant:"body2"},"Topics are proper nouns that appeared at least 10 times in submissions titles on HN front page from 2010-01-01 till 2019-12-31."),r.a.createElement("br",null),r.a.createElement(y.a,{color:"textSecondary",variant:"body2"},"Presets are groups of related popular topics.")))},H=function(){var e=k(),t=Object(l.g)(),a=new URLSearchParams(t.search),c=a.get("res"),s=a.get("kws"),o=Object(l.f)().push,f=Object(n.useState)(),E=Object(u.a)(f,2),O=E[0],v=E[1];Object(n.useEffect)((function(){(function(){var e;return b.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.a.awrap(fetch("".concat(j,"/dataset/hn/keywords.json")));case 2:return e=t.sent,t.next=5,b.a.awrap(e.json());case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}))})().then(v)}),[]);var g=Object(n.useState)(),w=Object(u.a)(g,2),y=w[0],x=w[1];Object(n.useEffect)((function(){(function(){var e;return b.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.a.awrap(fetch("".concat(j,"/dataset/hn/presets.json")));case 2:return e=t.sent,t.next=5,b.a.awrap(e.json());case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}))})().then(x)}),[]);var C=Object(n.useState)(c||"Q"),N=Object(u.a)(C,2),R=N[0],M=N[1],P=Object(n.useState)(s?s.split(","):h),W=Object(u.a)(P,2),I=W[0],L=W[1],Q=Object(n.useState)(),H=Object(u.a)(Q,2),K=H[0],T=H[1];Object(n.useEffect)((function(){(function(e){var t;return b.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,b.a.awrap(fetch("".concat(j,"/dataset/hn/ts/").concat(e,"_index.json")));case 2:return t=a.sent,a.next=5,b.a.awrap(t.json());case 5:return a.abrupt("return",a.sent);case 6:case"end":return a.stop()}}))})(R).then(T)}),[R]),Object(n.useEffect)((function(){var e=new URLSearchParams;e.set("res",R),e.set("kws",I.join(",")),o("".concat(window.location.pathname,"?").concat(e.toString()))}),[o,R,I]);var U=Object(n.useState)(),Y=Object(u.a)(U,2),_=Y[0],B=Y[1];return Object(n.useEffect)((function(){B(void 0),function(e,t){var a,n;return b.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return a=Object(d.a)(t),r.next=3,b.a.awrap(Promise.all(a.map((function(e){return encodeURIComponent(encodeURIComponent(e))})).map((function(t){return"".concat(j,"/dataset/hn/ts/").concat(e,"/").concat(t,".json")})).map((function(e){return fetch(e)})).map((function(e){return e.then((function(e){return e.json()}))}))));case 3:return n=r.sent,r.abrupt("return",Object.fromEntries(a.map((function(e,t){return[e,n[t]]}))));case 5:case"end":return r.stop()}}))}(R,I).then(B)}),[R,I]),r.a.createElement("div",{className:e.root},r.a.createElement(S,null),r.a.createElement("main",{className:e.main},r.a.createElement(i.a,{maxWidth:"lg"},r.a.createElement(m.a,{container:!0,spacing:3},r.a.createElement(m.a,{item:!0,md:3,xs:12},O&&y?r.a.createElement(z,{initialResolution:R,onResolutionChange:M,initialSelected:I,onSelectedChange:L,rankedKeywords:O,presets:y}):r.a.createElement(p.a,null)),r.a.createElement(m.a,{item:!0,md:9,xs:12},_&&K?r.a.createElement(D,{tsKeywords:_,dates:K,resolution:R}):r.a.createElement(p.a,null))))))},K=function(){return r.a.createElement(o.a,null,r.a.createElement(l.c,null,r.a.createElement(l.a,{children:r.a.createElement(H,null)})))};s.a.render(r.a.createElement(K,null),document.getElementById("root"))}},[[120,1,2]]]);
//# sourceMappingURL=main.dc825083.chunk.js.map