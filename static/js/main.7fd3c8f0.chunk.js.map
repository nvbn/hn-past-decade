{"version":3,"sources":["constants.ts","components/DashboardScreen/styles.ts","components/DashboardScreen/Header.tsx","components/DashboardScreen/Graph.tsx","components/DashboardScreen/Options.tsx","components/DashboardScreen/index.tsx","data.ts","App.tsx","index.tsx"],"names":["defaultKeywords","urlPrefix","RESOLUTION_TO_NAME","D","W","M","Q","Y","RESOLUTION_TO_TITLE","useStyles","makeStyles","theme","root","display","flexDirection","height","h1","fontSize","panel","padding","spacing","main","marginTop","input","width","minWidth","plotContainer","minHeight","toolbar","classes","AppBar","position","Toolbar","className","Typography","variant","Button","href","tsKeywords","dates","resolution","useState","setWidth","setHeight","containerRef","useRef","resize","useCallback","current","bounding","getBoundingClientRect","plotHeight","document","documentElement","clientHeight","top","useEffect","useLayoutEffect","window","addEventListener","removeEventListener","title","Object","keys","length","constants","join","Paper","ref","data","map","keyword","type","mode","name","x","y","layout","keywordsToPresetKey","keywords","sort","initialResolution","initialSelected","onResolutionChange","onSelectedChange","rankedKeywords","presets","setResolution","changeResolution","event","newResolution","target","value","selectedToPreset","useMemo","Map","presetName","selected","setSelected","get","selectedPreset","setSelectedPreset","changeSelected","values","changeSelectedPreset","preset","FormControl","InputLabel","id","Select","labelId","onChange","MenuItem","key","label","options","displayEmpty","color","location","useLocation","locationParams","URLSearchParams","search","res","kws","push","useHistory","setRankedKeywords","a","async","fetch","response","json","fetchRankedKeyword","then","setPresets","fetchPresets","split","setDates","fetchResolutionDates","params","set","pathname","toString","setTSKeywords","undefined","result","encodeURIComponent","fetchTSKeywords","Header","Container","maxWidth","Grid","container","item","md","xs","Options","LinearProgress","Graph","App","children","DashboardScreen","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.7fd3c8f0.chunk.js","sourcesContent":["export const defaultResolution = \"Q\";\n\nexport const defaultKeywords = [\n  \"facebook\",\n  \"amazon\",\n  \"apple\",\n  \"netflix\",\n  \"google\",\n];\n\nexport const urlPrefix =\n  process.env.NODE_ENV === \"production\" ? \"/hn-past-decade\" : \"\";\n\nexport const KEYWORDS_URL_PARAM = \"kws\";\n\nexport const RESOLUTION_URL_PARAM = \"res\";\n\nexport const RESOLUTION_TO_NAME: { [key: string]: string } = {\n  D: \"Day\",\n  W: \"Week\",\n  M: \"Month\",\n  Q: \"Quarter\",\n  Y: \"Year\",\n};\n\nexport const RESOLUTION_TO_TITLE: { [key: string]: string } = {\n  D: \"Daily\",\n  W: \"Weekly\",\n  M: \"Monthly\",\n  Q: \"Quarterly\",\n  Y: \"Yearly\",\n};\n","import { makeStyles } from \"@material-ui/core/styles\";\n\nexport const MIN_PLOT_HEIGHT = 400;\n\nexport const PLOT_MARGIN = 32;\n\nexport const useStyles = makeStyles(theme => ({\n  root: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    height: \"100%\",\n  },\n  h1: { fontSize: \"2rem\" },\n  panel: {\n    padding: theme.spacing(3),\n  },\n  main: {\n    marginTop: theme.spacing(3),\n    height: \"100%\",\n  },\n  input: {\n    width: \"100%\",\n    minWidth: \"120px\",\n  },\n  plotContainer: {\n    width: \"100%\",\n    height: \"100%\",\n    minHeight: `${MIN_PLOT_HEIGHT}px`,\n  },\n  toolbar: {\n    flexDirection: \"row\",\n  },\n}));\n","import React from \"react\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Button from \"@material-ui/core/Button\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { useStyles } from \"./styles\";\n\nexport default () => {\n  const classes = useStyles();\n\n  return (\n    <AppBar position=\"relative\">\n      <Toolbar className={classes.toolbar}>\n        <Typography className={classes.h1} variant=\"h1\">\n          HN Trends of the Past Decade\n        </Typography>\n\n        <Button href=\"https://github.com/nvbn/hn-past-decade\">github</Button>\n      </Toolbar>\n    </AppBar>\n  );\n};\n","import React, {\n  useState,\n  useCallback,\n  useLayoutEffect,\n  useRef,\n  useEffect,\n} from \"react\";\nimport Plot from \"react-plotly.js\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { TSKeywords } from \"../../types\";\nimport * as constants from \"../../constants\";\nimport { useStyles, MIN_PLOT_HEIGHT, PLOT_MARGIN } from \"./styles\";\n\ntype Props = {\n  tsKeywords: TSKeywords;\n  dates: string[];\n  resolution: string;\n};\n\nexport default ({ tsKeywords, dates, resolution }: Props) => {\n  const classes = useStyles();\n\n  const [width, setWidth] = useState(0);\n  const [height, setHeight] = useState(0);\n\n  const containerRef = useRef<HTMLDivElement>(null);\n  const resize = useCallback(() => {\n    if (containerRef.current === null) {\n      return;\n    }\n\n    const bounding = containerRef.current.getBoundingClientRect();\n    let plotHeight =\n      document.documentElement.clientHeight - bounding.top - PLOT_MARGIN;\n    if (plotHeight < MIN_PLOT_HEIGHT) {\n      plotHeight = MIN_PLOT_HEIGHT;\n    }\n\n    setHeight(plotHeight);\n    setWidth(bounding.width);\n  }, [containerRef]);\n\n  useEffect(resize, [containerRef]);\n  useLayoutEffect(() => {\n    window.addEventListener(\"resize\", resize);\n\n    return () => window.removeEventListener(\"resize\", resize);\n  }, [resize]);\n\n  const title = Object.keys(tsKeywords).length\n    ? `${\n        constants.RESOLUTION_TO_TITLE[resolution]\n      } amount of submissions with ${Object.keys(tsKeywords).join(\", \")}`\n    : \"No topics selected\";\n\n  return (\n    <Paper>\n      <div className={classes.plotContainer} ref={containerRef}>\n        <Plot\n          data={Object.keys(tsKeywords).map(keyword => ({\n            type: \"scatter\",\n            mode: \"lines\",\n            name: keyword,\n            x: dates,\n            y: tsKeywords[keyword],\n          }))}\n          layout={{ width, height, title }}\n        />\n      </div>\n    </Paper>\n  );\n};\n","import React, { useState, useCallback, useMemo } from \"react\";\nimport Paper from \"@material-ui/core/Paper\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { MultipleSelect } from \"react-select-material-ui\";\nimport { RankedKeyword, Presets } from \"../../types\";\nimport * as constants from \"../../constants\";\nimport { useStyles } from \"./styles\";\n\nconst keywordsToPresetKey = (keywords: string[]) => keywords.sort().join(\",\");\n\ntype Props = {\n  initialResolution: string;\n  initialSelected: string[];\n  onResolutionChange: (resolution: string) => void;\n  onSelectedChange: (selected: string[]) => void;\n  rankedKeywords: RankedKeyword[];\n  presets: Presets;\n};\n\nexport default ({\n  initialResolution,\n  initialSelected,\n  onResolutionChange,\n  onSelectedChange,\n  rankedKeywords,\n  presets,\n}: Props) => {\n  const classes = useStyles();\n\n  const [resolution, setResolution] = useState(initialResolution);\n  const changeResolution = useCallback(\n    (event: React.ChangeEvent<{ value: unknown }>) => {\n      const newResolution = event.target.value as string;\n      setResolution(newResolution);\n      onResolutionChange(newResolution);\n    },\n    [onResolutionChange, setResolution],\n  );\n\n  const selectedToPreset = useMemo(\n    () =>\n      new Map(\n        Object.keys(presets).map(presetName => [\n          keywordsToPresetKey(presets[presetName]),\n          presetName,\n        ]),\n      ),\n    [presets],\n  );\n\n  const [selected, setSelected] = useState(initialSelected);\n  const [selectedPreset, setSelectedPreset] = useState(\n    selectedToPreset.get(keywordsToPresetKey(selected)),\n  );\n  const changeSelected = useCallback(\n    (values: string[]) => {\n      setSelected(values);\n      onSelectedChange(values);\n      setSelectedPreset(selectedToPreset.get(keywordsToPresetKey(values)));\n    },\n    [onSelectedChange, setSelected, selectedToPreset],\n  );\n\n  const changeSelectedPreset = useCallback(\n    (event: React.ChangeEvent<{ value: unknown }>) => {\n      const preset = event.target.value as string;\n      setSelected(presets[preset]);\n      onSelectedChange(presets[preset]);\n      setSelectedPreset(preset);\n    },\n    [onSelectedChange, setSelected, presets],\n  );\n\n  return (\n    <Paper className={classes.panel}>\n      <div>\n        <FormControl>\n          <InputLabel id=\"resolution-label\">Resolution</InputLabel>\n          <Select\n            labelId=\"resolution-label\"\n            value={resolution}\n            onChange={changeResolution}\n            className={classes.input}\n          >\n            {Object.keys(constants.RESOLUTION_TO_NAME).map(resolution => (\n              <MenuItem value={resolution} key={`item-${resolution}`}>\n                {constants.RESOLUTION_TO_NAME[resolution]}\n              </MenuItem>\n            ))}\n          </Select>\n        </FormControl>\n      </div>\n      <br />\n      <div>\n        <FormControl className={classes.input}>\n          <MultipleSelect\n            label=\"Topics\"\n            options={rankedKeywords.map(([keyword, _]) => keyword)}\n            values={selected}\n            onChange={changeSelected}\n          />\n        </FormControl>\n      </div>\n      <br />\n      <div>\n        <FormControl>\n          <InputLabel id=\"preset-label\">Presets</InputLabel>\n          <Select\n            labelId=\"preset-label\"\n            onChange={changeSelectedPreset}\n            className={classes.input}\n            value={selectedPreset || \"\"}\n            displayEmpty\n          >\n            {Object.keys(presets).map(preset => (\n              <MenuItem value={preset} key={`preset-${preset}`}>\n                {preset}\n              </MenuItem>\n            ))}\n          </Select>\n        </FormControl>\n      </div>\n      <br />\n      <div>\n        <Typography color=\"textSecondary\" variant=\"body2\">\n          Topics are proper nouns that appeared at least 10 times in submissions\n          titles on HN front page from 2010-01-01 till 2019-12-31.\n        </Typography>\n        <br />\n        <Typography color=\"textSecondary\" variant=\"body2\">\n          Presets are groups of related popular topics.\n        </Typography>\n      </div>\n    </Paper>\n  );\n};\n","import React, { useEffect, useState } from \"react\";\nimport Container from \"@material-ui/core/Container\";\nimport Grid from \"@material-ui/core/Grid\";\nimport LinearProgress from \"@material-ui/core/LinearProgress\";\nimport { useLocation, useHistory } from \"react-router-dom\";\nimport {\n  fetchTSKeywords,\n  fetchRankedKeyword,\n  fetchPresets,\n  fetchResolutionDates,\n} from \"../../data\";\nimport { TSKeywords, RankedKeyword, Presets } from \"../../types\";\nimport * as constants from \"../../constants\";\nimport Header from \"./Header\";\nimport Graph from \"./Graph\";\nimport Options from \"./Options\";\nimport { useStyles } from \"./styles\";\n\nexport default () => {\n  const classes = useStyles();\n\n  const location = useLocation();\n  const locationParams = new URLSearchParams(location.search);\n  const res = locationParams.get(constants.RESOLUTION_URL_PARAM);\n  const kws = locationParams.get(constants.KEYWORDS_URL_PARAM);\n  const { push } = useHistory();\n\n  const [rankedKeywords, setRankedKeywords] = useState<RankedKeyword[]>();\n  useEffect(() => {\n    fetchRankedKeyword().then(setRankedKeywords);\n  }, []);\n\n  const [presets, setPresets] = useState<Presets>();\n  useEffect(() => {\n    fetchPresets().then(setPresets);\n  }, []);\n\n  const [resolution, setResolution] = useState(\n    res || constants.defaultResolution,\n  );\n  const [selected, setSelected] = useState(\n    kws ? kws.split(\",\") : constants.defaultKeywords,\n  );\n\n  const [dates, setDates] = useState<string[]>();\n  useEffect(() => {\n    fetchResolutionDates(resolution).then(setDates);\n  }, [resolution]);\n\n  useEffect(() => {\n    const params = new URLSearchParams();\n    params.set(constants.RESOLUTION_URL_PARAM, resolution);\n    params.set(constants.KEYWORDS_URL_PARAM, selected.join(\",\"));\n    push(`${window.location.pathname}?${params.toString()}`);\n  }, [push, resolution, selected]);\n\n  const [tsKeywords, setTSKeywords] = useState<TSKeywords>();\n  useEffect(() => {\n    setTSKeywords(undefined);\n\n    fetchTSKeywords(resolution, selected).then(setTSKeywords);\n  }, [resolution, selected]);\n\n  return (\n    <div className={classes.root}>\n      <Header />\n\n      <main className={classes.main}>\n        <Container maxWidth=\"lg\">\n          <Grid container spacing={3}>\n            <Grid item md={3} xs={12}>\n              {rankedKeywords && presets ? (\n                <Options\n                  initialResolution={resolution}\n                  onResolutionChange={setResolution}\n                  initialSelected={selected}\n                  onSelectedChange={setSelected}\n                  rankedKeywords={rankedKeywords}\n                  presets={presets}\n                />\n              ) : (\n                <LinearProgress />\n              )}\n            </Grid>\n\n            <Grid item md={9} xs={12}>\n              {tsKeywords && dates ? (\n                <Graph\n                  tsKeywords={tsKeywords}\n                  dates={dates}\n                  resolution={resolution}\n                />\n              ) : (\n                <LinearProgress />\n              )}\n            </Grid>\n          </Grid>\n        </Container>\n      </main>\n    </div>\n  );\n};\n","import * as constants from \"./constants\";\nimport { TSKeywords, RankedKeyword, Presets } from \"./types\";\n\nexport const fetchRankedKeyword = async (): Promise<RankedKeyword[]> => {\n  const response = await fetch(\n    `${constants.urlPrefix}/dataset/hn/keywords.json`,\n  );\n\n  return await response.json();\n};\n\nexport const fetchTSKeywords = async (\n  resolution: string,\n  keywords: string[],\n): Promise<TSKeywords> => {\n  const result: TSKeywords = {};\n\n  for (const keyword of keywords) {\n    const response = await fetch(\n      `${constants.urlPrefix}/dataset/hn/ts/${resolution}/${encodeURIComponent(\n        keyword,\n      )}.json`,\n    );\n\n    result[keyword] = await response.json();\n  }\n\n  return result;\n};\n\nexport const fetchPresets = async (): Promise<Presets> => {\n  const response = await fetch(\n    `${constants.urlPrefix}/dataset/hn/presets.json`,\n  );\n\n  return await response.json();\n};\n\nexport const fetchResolutionDates = async (\n  resolution: string,\n): Promise<string[]> => {\n  const response = await fetch(\n    `${constants.urlPrefix}/dataset/hn/ts/${resolution}_index.json`,\n  );\n\n  return await response.json();\n};\n","import React from \"react\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport DashboardScreen from \"./components/DashboardScreen\";\n\nconst App: React.FC = () => (\n  <Router>\n    <Switch>\n      <Route children={<DashboardScreen />} />\n    </Switch>\n  </Router>\n);\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"typeface-roboto\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}